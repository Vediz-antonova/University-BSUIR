{% extends "base.html" %}
{% load static %}

{% block css %}
  <link rel="stylesheet" href="{% static 'css/goods/add_product.css' %}">
{% endblock %}

{% block content %}
<section class="add-product-wrapper">
  <div class="add-product-card">
    <h2>üõ† –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä</h2>

    {% if request.user.is_authenticated and request.user.is_employee %}
      <form method="POST" enctype="multipart/form-data" class="add-product-form">
        {% csrf_token %}

        <div class="form-grid">
          <div class="form-group">
            <label for="id_article">–ê—Ä—Ç–∏–∫—É–ª:</label>
            <input type="text" id="id_article" name="article" required minlength="3" maxlength="100">
          </div>

          <div class="form-group">
            <label for="id_name">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞:</label>
            <input type="text" id="id_name" name="name" required>
          </div>

          <div class="form-group full-width">
            <label for="id_description">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
            <textarea id="id_description" name="description" rows="3"></textarea>
          </div>

          <div class="form-group">
            <label for="id_category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
            <select id="id_category" name="category">
              {% for category in categories %}
                <option value="{{ category.id }}">{{ category.name }}</option>
              {% endfor %}
            </select>
          </div>

          <div class="form-group">
            <label for="id_quantity">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</label>
            <input type="number" id="id_quantity" name="quantity" min="1" required>
          </div>

          <div class="form-group">
            <label for="id_default_price">–¶–µ–Ω–∞:</label>
            <input type="number" id="id_default_price" name="default_price" step="0.01" required>
          </div>

          <div class="form-group">
            <label for="id_image">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:</label>
            <input type="file" id="id_image" name="image" accept="image/*">
          </div>
        </div>

        <button type="submit" class="submit-button">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
      </form>
    {% else %}
      <p class="no-access">–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤.</p>
    {% endif %}
  </div>
</section>
{% endblock %}
